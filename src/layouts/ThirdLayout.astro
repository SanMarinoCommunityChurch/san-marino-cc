---
import Layout from "./Layout.astro";
import BreadcrumbAuto from "../components/BreadcrumbAuto.astro";

const { title, header, breadcrumbs, preview, featuredImage } = Astro.props;
---

<Layout title={title}>
  <main slot="main">
    <article>
      <BreadcrumbAuto navigation={breadcrumbs} className="breadcrumb-wrapper" />
      <div class="content-wrapper with-sidebar">
        <div class="main-panel flow">
          <section class="header flow">
            <div>
              <slot name="eyebrow">Eyebrow</slot>
              <h1 class="text-step-6">{header}</h1>
            </div>
            <p class="text-step-1"><em>{preview}</em></p>
          </section>
          {
            featuredImage && (
              <section class="frame">
                <img src={featuredImage} alt="" />
              </section>
            )
          }
          <section>
            <slot name="main-panel" />
          </section>
        </div>
        <div class="sidebar">
          <slot name="sidebar" />
        </div>
      </div>
      <slot name="cta" />
      <section class="highlight-section">
        <div class="content-wrapper">
          <slot name="highlight" />
        </div>
      </section>
    </article>
  </main>
</Layout>

<style>
  .content-wrapper.with-sidebar {
    --sidebar-gap: 5rem;
    padding-block: var(--space-3xl);
  }

  .main-panel.flow {
    --flow-space: 3rem;
  }

  .header.flow {
    --flow-space: 2rem;
  }

  .highlight-section {
    padding-block: var(--space-3xl);
    background-color: var(--color-primary-100);
  }

  .breadcrumb-wrapper {
    position: relative;
    z-index: 10;
    padding-inline-start: var(--space-l);
    top: 1rem;
    width: fit-content;
  }

  /* .content-wrapper.content {
    background-color: var(--color-white);
    padding-block: var(--space-m-2xl);
    box-shadow: var(--shadow-large);
    border-radius: var(--rounded-corners);
  } */

  .frame {
    --width: 7;
    --height: 5;
    border-radius: var(--rounded-corners);
  }
</style>
