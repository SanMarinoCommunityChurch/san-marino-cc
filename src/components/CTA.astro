---
import { Image } from "@astrojs/image/components";
import Button from "./Button.astro";
import bgImage from "../assets/images/church-ext-4.jpg";
---

<article>
  <section class="cta-top">
    <div class="content-wrapper center-items flow">
      <h2 class="text-step-4 color-white">New? Start here.</h2>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua.
      </p>
      <Button href="/" theme="primary-light">Call to Action</Button>
    </div>
    <Image src={bgImage} alt="" />
  </section>
  <section class="cta-bottom">
    <div class="content-wrapper center-items flow">
      <div class="flow">
        <h3 class="text-step-2">Sign up for email updates</h3>
        <p class="paragraphs">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod tempor incididunt ut labore et dolore magna aliqua.
        </p>
      </div>
      <form class="cluster">
        <label for="name">
          <span class="sr-only">Name</span>
          <input id="name" name="name" type="text" placeholder="Your Name" />
        </label>
        <label for="email">
          <span class="sr-only">Email</span>
          <input
            id="email"
            name="email"
            type="email"
            placeholder="Your Email"
            required
          />
        </label>
        <Button type="submit">Submit</Button>
      </form>
    </div>
  </section>
</article>

<style>
  .center-items {
    flex-direction: column;
  }

  .cta-top {
    position: relative;
    color: var(--color-primary-200);
    padding-block-start: 5rem;
    padding-block-end: 7rem;
    background-color: var(--color-primary-900);
    overflow: hidden;
  }

  .cta-top .content-wrapper {
    position: relative;
    max-width: var(--paragraph-measure);
    z-index: 2;
  }

  .cta-top img {
    position: absolute;
    bottom: -50%;
    transform: translateY(50%);
    object-fit: cover;
    filter: saturate(0);
    mix-blend-mode: multiply;
    opacity: 0.9;
    z-index: 1;
  }

  .cta-bottom .content-wrapper {
    position: relative;
    top: -3rem;
    background-color: var(--color-white);
    padding: 3rem;
    border-radius: var(--rounded-corners);
    box-shadow: var(--shadow-base);
    z-index: 3;
  }

  .cta-bottom > .flow {
    --flow-space: var(--space-l);
  }

  .paragraphs {
    max-width: var(--paragraph-measure);
  }

  input {
    padding: 0.35rem 1rem;
    font-family: var(--font-secondary);
    font-weight: var(--font-weight-semi);
    color: var(--color-body-text);
    border: 1px solid var(--color-primary-200);
    border-radius: var(--rounded-corners);
  }

  input:focus-visible {
    outline: var(--color-primary-800) auto 1px;
  }

  input::placeholder {
    color: var(--color-neutral-400);
  }
</style>
